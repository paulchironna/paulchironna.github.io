<!DOCTYPE html>
<html>
<head>
  <title>Rigol DS1054Z Oscilloscope Repair</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      text-align: center;
    }

    a.back {
      display: inline-block;
      margin-bottom: 20px;
      color: #0066cc;
      text-decoration: none;
    }

    h1 { margin-bottom: 10px; }
    h2 { margin-top: 40px; font-size: 24px; }

    .intro {
      max-width: 700px;
      margin: 0 auto 30px;
      text-align: left;
      font-size: 16px;
      line-height: 1.6;
    }

    .image-container {
      max-width: 50%;
      margin: 0 auto 40px;
    }

    .image-row {
      display: flex;
      justify-content: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .image-row .image-block {
      flex: 1 1 0;
    }

    .image-single img,
    .image-row img {
      width: 100%;
      border: 1px solid #ccc;
      cursor: pointer;
      transition: 0.2s ease;
    }

    .image-row img:hover,
    .image-single img:hover {
      transform: scale(1.02);
    }

    .crop-uniform {
      height: 300px !important;
      object-fit: cover !important;
      object-position: center center !important;
    }

    .caption {
      margin-top: 5px;
      font-style: italic;
    }

    /* Lightbox */
    .lightbox-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .lightbox-overlay img {
      max-width: 90%;
      max-height: 90%;
      border: 4px solid white;
      box-shadow: 0 0 20px black;
    }
  </style>
</head>
<body>
  <a class="back" href="index.html">‚Üê Back to Portfolio</a>
  <h1>Rigol DS1054Z Oscilloscope Repair</h1>

  <div class="intro">
    <p>
      This DS1054Z Oscilloscope was displaying a fuzzy, distorted, and poorly attenuated waveform on all 4 channels using known-good probes.
    </p>
  </div>

  <!-- Single image section -->
  <div class="image-container image-single">
    <img src="IMG_2077.PNG" alt="Initial CH1 waveform issue" onclick="openLightbox(this.src)">
    <div class="caption">Initial waveform issue observed on CH1 using clean 1KHz square wave signal</div>
  </div>

  <h2>Initial Findings</h2>
  <div class="intro">
    <p>
      Immediately upon disassembling the scope, I noticed badly pinched wires where the main harness fed through the power supplies EMI shield.
      Luckily, the insulation was still intact and the damaged power wires hadn't shorted to ground. Couldn't be that easy, right?
    </p>
  </div>

  <div class="image-container">
    <div class="image-row">
      <div class="image-block">
        <img src="IMG_2224.PNG" alt="Pinched wires" class="crop-uniform" onclick="openLightbox(this.src)">
        <div class="caption">Pinched wires</div>
      </div>
      <div class="image-block">
        <img src="IMG_2094.png" alt="Fixed wires" class="crop-uniform" onclick="openLightbox(this.src)">
        <div class="caption">Repaired and heat shrunk wires</div>
      </div>
    </div>
  </div>

  <h2>Analog Board Inspection</h2>
  <div class="intro">
    <p>
      Unfortunately, it wasn't that easy. The same waveform pictured above appeared. So my next step was to isolate the analog board, inject my 1KHz test signal,
      and see if I could trace it  from the center pin on the BNC jack through the attenuator circuit. However, I didn't get very far...
    </p>
  </div>

  <div class="image-container">
    <div class="image-row">
      <div class="image-block">
        <img src="IMG_8702EF5A-AD10-48AE-ADF3-023240ED44C6.jpeg" alt="Analog board overview" class="crop-uniform" onclick="openLightbox(this.src)">
        <div class="caption">CH1 input path with shielding removed</div>
      </div>
      <div class="image-block">
        <img src="IMG_2137.png" alt="Solder joint detail" class="crop-uniform" onclick="openLightbox(this.src)">
        <div class="caption">Close-up of my chosen test point for CH1</div>
      </div>
    </div>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox-overlay" onclick="closeLightbox()">
    <img id="lightbox-img" src="" alt="">
  </div>

  <script>
    function openLightbox(src) {
      document.getElementById('lightbox-img').src = src;
      document.getElementById('lightbox').style.display = 'flex';
    }

    function closeLightbox() {
      document.getElementById('lightbox').style.display = 'none';
    }
  </script>
</body>
</html>
